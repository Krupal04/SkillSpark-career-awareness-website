<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Career Quiz • SkillsSpark</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
body { font-family:'Poppins',sans-serif; background:#f8f9fa; }
.card { border:none; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
</style>
</head>
<body>
<nav class="navbar navbar-light bg-white shadow-sm mb-4">
  <div class="container">
    <a class="navbar-brand fw-bold" href="index.html">SkillsSpark</a>
  </div>
</nav>

<main class="container">
  <div class="card p-4 mb-4">
    <h4 class="mb-3">Career Interest Quiz</h4>
    <form id="quizForm">
      <div class="mb-3">
        <label class="form-label">1. What kind of tasks do you enjoy most?</label>
        <select class="form-select" id="q1" required>
          <option value="">Choose...</option>
          <option value="tech">Solving technical problems</option>
          <option value="design">Creating visuals or designs</option>
          <option value="business">Planning, managing or marketing</option>
          <option value="science">Experimenting and research</option>
          <option value="social">Helping and teaching others</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">2. Which school subject do you like most?</label>
        <select class="form-select" id="q2" required>
          <option value="">Choose...</option>
          <option value="tech">Maths / Computer</option>
          <option value="design">Art / Graphics</option>
          <option value="business">Economics / Commerce</option>
          <option value="science">Biology / Chemistry</option>
          <option value="social">Psychology / Literature</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">3. What’s your preferred work environment?</label>
        <select class="form-select" id="q3" required>
          <option value="">Choose...</option>
          <option value="tech">In front of a computer</option>
          <option value="design">Creative studio</option>
          <option value="business">Office / corporate</option>
          <option value="science">Laboratory / research center</option>
          <option value="social">Schools / community work</option>
        </select>
      </div>

      <button class="btn btn-primary w-100" type="submit">Submit Quiz</button>
    </form>
  </div>

  <div id="resultSection" class="card p-4" style="display:none;">
    <h4 class="mb-3">Your Recommended Field</h4>
    <p id="resultText"></p>
    <h5 class="mt-3">Suggested Courses & Skills</h5>
    <div id="courseList"></div>
  </div>
</main>

<script>
const recommendations = {
  tech: {
    field: "Technology & Software Development",
    courses: [
      {name:"Web Development", skill:"HTML, CSS, JavaScript, React"},
      {name:"Python Programming", skill:"Python, Flask, APIs"},
      {name:"AI & Machine Learning", skill:"Python, TensorFlow, Data Science"}
    ]
  },
  design: {
    field: "Creative Design & Multimedia",
    courses: [
      {name:"Graphic Design", skill:"Photoshop, Illustrator, Figma"},
      {name:"UI/UX Design", skill:"Wireframing, Prototyping, UX Research"},
      {name:"Video Editing", skill:"Premiere Pro, After Effects"}
    ]
  },
  business: {
    field: "Business & Management",
    courses: [
      {name:"Digital Marketing", skill:"SEO, Google Ads, Content Strategy"},
      {name:"Entrepreneurship", skill:"Startup Planning, Pitching"},
      {name:"Project Management", skill:"Agile, Scrum, Leadership"}
    ]
  },
  science: {
    field: "Science & Research",
    courses: [
      {name:"Biotechnology", skill:"Lab Techniques, Data Analysis"},
      {name:"Environmental Science", skill:"Sustainability, Research"},
      {name:"Physics Research", skill:"Simulation, Experimentation"}
    ]
  },
  social: {
    field: "Education & Social Work",
    courses: [
      {name:"Teaching Skills", skill:"Curriculum Design, Communication"},
      {name:"Counseling Psychology", skill:"Therapy, Communication"},
      {name:"Community Service", skill:"Leadership, Event Planning"}
    ]
  }
};

document.getElementById('quizForm').addEventListener('submit', e=>{
  e.preventDefault();
  const q1=document.getElementById('q1').value;
  const q2=document.getElementById('q2').value;
  const q3=document.getElementById('q3').value;
  const cat = q1 || q2 || q3;
  if(!cat){ alert("Please answer all questions."); return; }

  const rec = recommendations[cat];
  const resultText = document.getElementById('resultText');
  const courseList = document.getElementById('courseList');
  resultText.textContent = `You seem interested in ${rec.field}. Here are some courses and skills for you:`;
  courseList.innerHTML = '';

  rec.courses.forEach(course=>{
    const div=document.createElement('div');
    div.className="border rounded p-3 mb-2 bg-light";
    div.innerHTML=`
      <strong>${course.name}</strong><br>
      <small>${course.skill}</small><br>
      <button class='btn btn-sm btn-success mt-2 enrollBtn'>Enroll</button>
    `;
    div.querySelector('.enrollBtn').addEventListener('click',()=>{
      const currentUserEmail=localStorage.getItem('ss_current');
      if(!currentUserEmail){ alert('Please login first!'); location.href='login.html'; return; }
      const users=JSON.parse(localStorage.getItem('ss_users')||'{}');
      const user=users[currentUserEmail];
      user.courses.push(course.name);
      user.progress = Math.min(100,(user.progress||0)+20);
      user.quizResults.push(rec.field);
      users[currentUserEmail]=user;
      localStorage.setItem('ss_users',JSON.stringify(users));
      alert("Enrolled in "+course.name+" successfully!");
      location.href='profile.html';
    });
    courseList.appendChild(div);
  });

  document.getElementById('quizForm').style.display='none';
  document.getElementById('resultSection').style.display='block';
});
</script>
</body>
</html>
